
<!-- style="overflow: scroll; height: 500px;" -->

<h4><strong>Search User</strong></h4>
<div class="row">
    <input type="text" placeholder="enter username" class="form-control col-md-4 mr-2 ml-2"  [(ngModel)]="searchUser" />
    <button type="submit" (click)="setSearch()" class="btn btn-primary col-md-1">Search</button>


    <select
        name="pageSize"
        style="width: 95px"
        [(ngModel)]="gender"
        class="form-control ml-2"
        (change)="getUsersWithRoles()"
    >
        <option disabled></option>
        <option *ngFor="let gender of genderList" [value]="gender.value">
            {{ gender.display }}
        </option>
    </select>
</div>

    <div class="card-body" >
        <div class="row">
            <table class="table" >
                <tr>
                    <th style="width: 30%;">Username</th>
                    <th style="width: 40%;">Active roles</th>
                    <th style="width: 30%;"></th>

                </tr>
                <tr *ngFor="let user of users">
                    <td>{{user.username}} - ({{user.gender}})</td>
                    <td>{{user.roles}}</td>
                    <td>
                        <button (click)="openRolesModal(user)" class="btn btn-info mr-1" title="تعديل الصلاحيات"> 
                            <i class="fa fa-edit"></i>
                        </button>

                        <button (click)="banUser(user.username)" class="btn btn-danger mr-1" title="حظر المستخدم">
                        <i class="fa fa-ban"></i>
                        </button>

                        <button (click)="unBanUser(user.username)" class="btn btn-success mr-1" title="إلغاء الحظر">
                            <i class="fa fa-check-circle"></i>
                        </button>
                        <button (click)="verifyUser(user.username)" class="btn btn-info mr-1" title="إلغاء الحظر">
                            <i class="fa fa-check-circle"></i>
                        </button>
                    </td>
                </tr>
            </table>
        </div>

    </div>


<div class="row justify-content-center">
    <div class="d-flex justify-content-center" *ngIf="pagination">
        <pagination
          [boundaryLinks]="true"
          [totalItems]="pagination.totalItems"
          [itemsPerPage]="pagination.itemsPerPage"
          [(ngModel)]="pagination.currentPage"
          (pageChanged)="pageChanged($event)"
          previousText="&lsaquo;"
          nextText="&rsaquo;"
          firstText="&laquo;"
          lastText="&raquo;"
        >
        </pagination>
    </div>

      <!-- PAGE SIZE SELECTOR -->
    <select
        name="pageSize"
        style="width: 75px"
        [(ngModel)]="pageSize"
        class="form-control ml-2"
        (change)="getUsersWithRoles()"
    >
        <option *ngFor="let pageSize of pageSizeList" [value]="pageSize.value">
            {{ pageSize.display }}
        </option>
    </select>
</div>
    
  


